# CI νμ΄ν”„λΌμΈ μ¤λ¥ ν•΄κ²° λ³΄κ³ μ„

## π¨ λ°μƒν• λ¬Έμ 

### μ¤λ¥ λ©”μ‹μ§€
```
error: No virtual environment found; run `uv venv` to create an environment, or pass `--system` to install into a non-virtual environment
Error: Process completed with exit code 2.
```

### μ¤λ¥ λ°μƒ μ„μΉ
- **νμΌ**: `.github/workflows/ci.yml`
- **λ‹¨κ³„**: `Install backend dependencies`
- **λ…λ Ήμ–΄**: `uv pip install -e .`

## π” λ¬Έμ  μ›μΈ λ¶„μ„

### 1. κ°€μƒν™κ²½ λ¶€μ¬
- **μ›μΈ**: CI ν™κ²½μ—μ„ `uv pip install` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•  λ• κ°€μƒν™κ²½μ΄ μƒμ„±λμ§€ μ•μ€ μƒνƒ
- **μƒμ„Έ**: `uv`λ” κΈ°λ³Έμ μΌλ΅ κ°€μƒν™κ²½ λ‚΄μ—μ„ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•λ„λ΅ μ„¤κ³„λμ–΄ μμ
- **μν–¥**: ν¨ν‚¤μ§€ μ„¤μΉ λ‹¨κ³„μ—μ„ CI νμ΄ν”„λΌμΈμ΄ μ‹¤ν¨

### 2. Python λ²„μ „ νΈν™μ„± λ¬Έμ 
- **μ›μΈ**: `pyproject.toml`μ—μ„ `requires-python = ">=3.13"` μ„¤μ •
- **CI ν™κ²½**: Python 3.13 μ‚¬μ©
- **κ²°κ³Ό**: λ²„μ „ μ”κµ¬μ‚¬ν•­κ³Ό CI ν™κ²½ μΌμΉλ΅ νΈν™μ„± ν™•λ³΄

### 3. κ°λ° μμ΅΄μ„± λ„λ½
- **μ›μΈ**: ν…μ¤νΈ λ° λ¦°ν… λ„κµ¬λ“¤μ΄ `dev` κ·Έλ£Ήμ— μ •μλμ–΄ μμΌλ‚ μ„¤μΉλμ§€ μ•μ
- **μν–¥**: `pytest`, `black`, `isort` λ“±μ λ„κµ¬λ¥Ό μ°Ύμ„ μ μ—†μ–΄ ν›„μ† λ‹¨κ³„ μ‹¤ν¨

## β… ν•΄κ²° λ°©λ²•

### 1. κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™”
```yaml
- name: Create virtual environment and install backend dependencies
  working-directory: backend
  run: |
    uv venv                           # κ°€μƒν™κ²½ μƒμ„±
    source .venv/bin/activate         # κ°€μƒν™κ²½ ν™μ„±ν™”
    uv pip install -e . --extra dev   # κ°λ° μμ΅΄μ„± ν¬ν•¨ μ„¤μΉ
```

### 2. Python λ²„μ „ νΈν™μ„± μμ •
```toml
# pyproject.toml
requires-python = ">=3.13"  # CI ν™κ²½κ³Ό μΌμΉν•λ„λ΅ μ μ§€
```

### 3. λ¨λ“  λ°±μ—”λ“ κ΄€λ ¨ λ‹¨κ³„μ—μ„ κ°€μƒν™κ²½ ν™μ„±ν™”
```yaml
- name: Run backend tests
  working-directory: backend
  run: |
    source .venv/bin/activate
    pytest

- name: Run backend linting
  working-directory: backend
  run: |
    source .venv/bin/activate
    black --check .
    isort --check-only .
```

### 4. κ°λ° μμ΅΄μ„± λ…μ‹μ  μ„¤μΉ
- `--extra dev` ν”λκ·Έ μ¶”κ°€λ΅ ν…μ¤νΈ λ° λ¦°ν… λ„κµ¬ μ„¤μΉ λ³΄μ¥

## π”§ μ μ©λ λ³€κ²½μ‚¬ν•­

### νμΌ: `.github/workflows/ci.yml`
1. **test μ‘μ—…**: κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™” λ΅μ§ μ¶”κ°€
2. **lint μ‘μ—…**: κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™” λ΅μ§ μ¶”κ°€
3. **λ¨λ“  λ°±μ—”λ“ λ…λ Ήμ–΄**: κ°€μƒν™κ²½ ν™μ„±ν™” ν›„ μ‹¤ν–‰

### νμΌ: `backend/pyproject.toml`
1. **Python λ²„μ „ μ”κµ¬μ‚¬ν•­**: CI ν™κ²½κ³Ό μΌμΉν•λ„λ΅ `>=3.13` μ μ§€

## π§ κ²€μ¦ λ°©λ²•

### λ΅μ»¬ ν…μ¤νΈ
```bash
# λ°±μ—”λ“ λ””λ ‰ν† λ¦¬μ—μ„
cd backend
uv venv
source .venv/bin/activate
uv pip install -e . --extra dev
pytest
black --check .
isort --check-only .
```

### CI νμ΄ν”„λΌμΈ ν™•μΈ
1. GitHub Actionsμ—μ„ λ¨λ“  μ‘μ—…μ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λλ”μ§€ ν™•μΈ
2. κ° λ‹¨κ³„λ³„ λ΅κ·Έμ—μ„ κ°€μƒν™κ²½ ν™μ„±ν™” λ©”μ‹μ§€ ν™•μΈ
3. ν…μ¤νΈ λ° λ¦°ν… κ²°κ³Ό μ •μƒ μ¶λ ¥ ν™•μΈ

## π“ ν•™μµ ν¬μΈνΈ

### uv λ„κµ¬ νΉμ„±
- `uv`λ” ν„λ€μ μΈ Python ν¨ν‚¤μ§€ κ΄€λ¦¬ λ„κµ¬λ΅ κ°€μƒν™κ²½ μ‚¬μ©μ„ κ°•μ ν•¨
- CI ν™κ²½μ—μ„λ” λ…μ‹μ μΌλ΅ κ°€μƒν™κ²½μ„ μƒμ„±ν•κ³  ν™μ„±ν™”ν•΄μ•Ό ν•¨

### CI/CD λ¨λ²” μ‚¬λ΅€
- μμ΅΄μ„± μ„¤μΉ μ‹ κ°λ° λ„κµ¬λ„ ν•¨κ» μ„¤μΉν•μ—¬ μΌκ΄€μ„± λ³΄μ¥
- Python λ²„μ „ νΈν™μ„±μ„ CI ν™κ²½κ³Ό λ§μ¶° μ„¤μ •
- κ° λ‹¨κ³„μ—μ„ ν•„μ”ν• ν™κ²½ μ„¤μ •μ„ λ…μ‹μ μΌλ΅ μν–‰

### λ€μ• ν•΄κ²°μ±…
λ§μ•½ κ°€μƒν™κ²½ μ‚¬μ©μ΄ λ¶κ°€λ¥ν• κ²½μ°, `--system` ν”λκ·Έ μ‚¬μ© κ°€λ¥:
```bash
uv pip install -e . --system --extra dev
```

## π― κ²°λ΅ 

μ΄λ² λ¬Έμ λ” `uv` λ„κµ¬μ κ°€μƒν™κ²½ μ”κµ¬μ‚¬ν•­κ³Ό CI ν™κ²½μ νΉμ„±μ„ μ λ€λ΅ μ΄ν•΄ν•μ§€ λ»ν•΄μ„ λ°μƒν–μµλ‹λ‹¤. ν•΄κ²°μ„ ν†µν•΄ λ‹¤μμ„ μ–»μ—μµλ‹λ‹¤:

1. **μ•μ •μ μΈ CI νμ΄ν”„λΌμΈ**: λ¨λ“  λ‹¨κ³„κ°€ μΌκ΄€λ ν™κ²½μ—μ„ μ‹¤ν–‰
2. **λ²„μ „ νΈν™μ„± ν™•λ³΄**: Python 3.12 ν™κ²½μ—μ„ μ •μƒ λ™μ‘
3. **μ™„μ „ν• μμ΅΄μ„± κ΄€λ¦¬**: κ°λ° λ„κµ¬κΉμ§€ ν¬ν•¨ν• μ „μ²΄ μμ΅΄μ„± μ„¤μΉ

μ΄μ  CI νμ΄ν”„λΌμΈμ΄ μ•μ •μ μΌλ΅ μ‹¤ν–‰λμ–΄ μ½”λ“ ν’μ§κ³Ό ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€λ¥Ό λ³΄μ¥ν•  μ μμµλ‹λ‹¤.
